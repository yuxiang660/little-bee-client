{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/3/2020-02-09---Little-Bee-Client-Intro/","result":{"data":{"markdownRemark":{"id":"cba75952-3950-543a-a2ec-aaf6d854c39c","html":"<p><img src=\"http://q53wkmg88.bkt.clouddn.com/client_and_gatsby.png\" alt=\"Little-Bee\"></p>\n<h1 id=\"why\" style=\"position:relative;\"><a href=\"#why\" aria-label=\"why permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why</h1>\n<p>为了让大家了解“蜂工地”项目，这篇博文详细介绍了“蜂工地”项目的工作原理。</p>\n<h2 id=\"蜂工地的目的什么？\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E7%9A%84%E7%9B%AE%E7%9A%84%E4%BB%80%E4%B9%88%EF%BC%9F\" aria-label=\"蜂工地的目的什么？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”的目的什么？</h2>\n<p>“蜂工地”力求用最简洁的形式（如：<a href=\"/little-bee-client/posts/1/2020-02-09---How-to-Write-a-Bee-Blog/\">“蜂博客”</a>），记录和展示大家在开发过程中的感悟和心得。希望可以促进技术的交流和进步。</p>\n<h2 id=\"蜂工地为什么选择gatsby框架？\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9gatsby%E6%A1%86%E6%9E%B6%EF%BC%9F\" aria-label=\"蜂工地为什么选择gatsby框架？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”为什么选择\"Gatsby\"框架？</h2>\n<p>“蜂工地”主要以博客形式进行展示。当下比较流行的博客搭建框架有：<a href=\"https://hexo.io/zh-cn/docs/\">Hexo</a>，<a href=\"https://jekyllrb.com/\">Jekyll</a>，<a href=\"https://gohugo.io/documentation/\">Hugo</a>以及<a href=\"https://www.gatsbyjs.org/\">\"Gatsby\"</a>。每种框架都有各自的优缺点，这里只说我们为什么选择<code class=\"language-text\">Gatsby</code>。如果您对其他框架的特点也感兴趣，可以参考这篇<a href=\"https://dzone.com/articles/static-site-generators-overview-gatsby-vs-hugo-vs\">文章</a>。</p>\n<p><code class=\"language-text\">Gatsby</code>主要特点如下：</p>\n<ul>\n<li>依托于<code class=\"language-text\">React</code>，可以共享大量<code class=\"language-text\">React</code>社区资源</li>\n<li>官方文档对初学者友好</li>\n<li>利用<a href=\"https://graphql.org/\">GraghQL</a>检索数据，因此可以方便地实现其他框架难以实现的功能</li>\n<li>框架开放性程度高，支持插件开发</li>\n<li>社区比较活跃，还处于向上发展的阶段</li>\n</ul>\n<h1 id=\"what\" style=\"position:relative;\"><a href=\"#what\" aria-label=\"what permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What</h1>\n<h2 id=\"蜂工地是什么项目？\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E6%98%AF%E4%BB%80%E4%B9%88%E9%A1%B9%E7%9B%AE%EF%BC%9F\" aria-label=\"蜂工地是什么项目？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”是什么项目？</h2>\n<p>“蜂工地”是“蜂乐园”项目中的基于<code class=\"language-text\">Gatsby</code>框架的子项目，是“蜂乐园”的入口，用于向用户展示整个“蜂乐园”项目。之所以叫“蜂工地”，是因为它还处于建设阶段。当前主要以“蜂博客”的形式，用图片和文字记录和展示开发过程中的感悟和心得。希望以后可以有更多、更有趣的形式加入进来。</p>\n<h2 id=\"gatsby是如何工作的？\" style=\"position:relative;\"><a href=\"#gatsby%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F\" aria-label=\"gatsby是如何工作的？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">Gatsby</code>是如何工作的？</h2>\n<p><code class=\"language-text\">Gatsby</code>涉及的技术比较多，简单地说它是一个静态网页生成器，可以读取<code class=\"language-text\">Markdown</code>文件并在网页中渲染出来。因此十分适合做一个博客系统。详情可参考“蜂博客”：<a href=\"\">什么是\"Gastby\"</a></p>\n<h2 id=\"蜂工地是如何工作的？\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F\" aria-label=\"蜂工地是如何工作的？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”是如何工作的？</h2>\n<ul>\n<li><a href=\"https://little-bee-client.netlify.com/\">项目展示</a>\n<img src=\"http://q53wkmg88.bkt.clouddn.com/little-bee-client-demo2.gif\" alt=\"Demo\"></li>\n</ul>\n<h2 id=\"蜂工地是如何实现的？\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F\" aria-label=\"蜂工地是如何实现的？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”是如何实现的？</h2>\n<p>“蜂工地”是一个基于<a href=\"https://www.gatsbyjs.org/\">\"Gatsby\"</a>框架的<code class=\"language-text\">React</code>网站。下面罗列了部分“蜂工地”涉及的技术。如果您对以项某项内容感兴趣，那么您可以继续往下看。在“How”部分，我们将详细介绍“蜂工地”是如何实现的。</p>\n<ul>\n<li><code class=\"language-text\">React</code></li>\n<li><code class=\"language-text\">Gatsby</code></li>\n<li><code class=\"language-text\">GrapghQL</code></li>\n<li><code class=\"language-text\">TypeScrip</code></li>\n<li><code class=\"language-text\">Jest</code></li>\n</ul>\n<h1 id=\"how\" style=\"position:relative;\"><a href=\"#how\" aria-label=\"how permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How</h1>\n<h2 id=\"蜂工地项目结构\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%B7%A5%E5%9C%B0%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\" aria-label=\"蜂工地项目结构 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂工地”项目结构</h2>\n<ul>\n<li><a href=\"https://github.com/yuxiang660/little-bee-client\">“蜂工地”</a>在<code class=\"language-text\">GitHub</code>上的文件组织结构如下：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">.</span>\n├── <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md           <span class=\"token comment\">// 说明文档</span>\n├── configs             <span class=\"token comment\">// 配置文件夹</span>\n<span class=\"token operator\">|</span>    ├── jest           <span class=\"token comment\">// jest测试配置子文件夹</span>\n<span class=\"token operator\">|</span>    ├── metadata<span class=\"token punctuation\">.</span>js    <span class=\"token comment\">// 自定义配置数据</span>\n<span class=\"token operator\">|</span>    └── postcss<span class=\"token punctuation\">.</span>js     <span class=\"token comment\">// postcss配置文件</span>\n├── gatsby<span class=\"token operator\">-</span>browser<span class=\"token punctuation\">.</span>js   <span class=\"token comment\">// Gatsby框架API文件</span>\n├── gatsby<span class=\"token operator\">-</span>config<span class=\"token punctuation\">.</span>js    <span class=\"token comment\">// Gatsby框架API文件</span>\n├── gatsby<span class=\"token operator\">-</span>node<span class=\"token punctuation\">.</span>js      <span class=\"token comment\">// Gatsby框架API文件</span>\n├── gatsby<span class=\"token operator\">-</span>ssr<span class=\"token punctuation\">.</span>js       <span class=\"token comment\">// Gatsby框架API文件</span>\n├── jest<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>js      <span class=\"token comment\">// jest测试主配置文件</span>\n├── <span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json        <span class=\"token comment\">// npm工程包管理文件</span>\n├── <span class=\"token keyword\">public</span>              <span class=\"token comment\">// 存放项目编译出的静态文件</span>\n├── src                 <span class=\"token comment\">// 源文件夹</span>\n<span class=\"token operator\">|</span>    ├── assets         <span class=\"token comment\">// 样式资源文件夹</span>\n<span class=\"token operator\">|</span>    ├── components     <span class=\"token comment\">// React组件文件夹</span>\n<span class=\"token operator\">|</span>    ├── gatsby<span class=\"token operator\">-</span>api     <span class=\"token comment\">// 存放Gatsby框架API调用的文件</span>\n<span class=\"token operator\">|</span>    ├── pages          <span class=\"token comment\">// 静态页面文件夹</span>\n<span class=\"token operator\">|</span>    ├── shared         <span class=\"token comment\">// 存放项目共享代码</span>\n<span class=\"token operator\">|</span>    └── templates      <span class=\"token comment\">// 存放用于动态页面生成的模板</span>\n├── <span class=\"token keyword\">static</span>              <span class=\"token comment\">// 存放静态资源</span>\n<span class=\"token operator\">|</span>    ├── images         <span class=\"token comment\">// 存放网站中用到的图片</span>\n<span class=\"token operator\">|</span>    ├── pages          <span class=\"token comment\">// 存放菜单页面md文件</span>\n<span class=\"token operator\">|</span>    └── posts          <span class=\"token comment\">// 存放博客页面md文件</span>\n└── tsconfig<span class=\"token punctuation\">.</span>json       <span class=\"token comment\">// TypeScript配置文件</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">Gatsby API</code>文件</p>\n<ul>\n<li>可以简单理解为\"Gatsby\"框架的<code class=\"language-text\">Hook</code>，详情可参考<a href=\"https://www.gatsbyjs.org/docs/api-files/\">官网</a>或者<a href=\"\">“蜂博客”-什么是\"Gastby\"</a>。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">gatsby-api</code>文件夹</p>\n<ul>\n<li>存放了被<code class=\"language-text\">Gatsby API</code>文件调用的子模块</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">src/pages</code>文件夹</p>\n<ul>\n<li>存放静态网页的JS文件。一个文件对应一个也面。路由名称即文件名。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">src/components</code>文件夹</p>\n<ul>\n<li>存放用于动态页面的生成模板文件。被<code class=\"language-text\">Gatsby API</code>文件--<code class=\"language-text\">gatsby-node.js</code>在编译时调用，生成静态网页。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">static</code>文件夹</p>\n<ul>\n<li>网站的静态资源，不涉及网站代码，包括图片于和博客文件等。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"如何在蜂工地中添加一篇蜂博客\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%9C%A8%E8%9C%82%E5%B7%A5%E5%9C%B0%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%B8%80%E7%AF%87%E8%9C%82%E5%8D%9A%E5%AE%A2\" aria-label=\"如何在蜂工地中添加一篇蜂博客 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何在“蜂工地”中添加一篇“蜂博客”</h2>\n<p>在“蜂工地”中添加一篇“蜂博客”非常简单，只需要以下几个步骤：</p>\n<ul>\n<li>下载并启动“蜂工地”</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token function\">git</span> clone https://github.com/yuxiang660/little-bee-client.git\n<span class=\"token function\">npm</span> i\ngatsby develop</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>在<code class=\"language-text\">/src/static/posts</code>下编写“蜂博客”，详情可参考“蜂博客”：<a href=\"/little-bee-client/posts/1/2020-02-09---How-to-Write-a-Bee-Blog/\">如何写一篇“蜂博客”</a></li>\n<li>打开浏览器，输入<code class=\"language-text\">http://localhost:8000/</code>，即可在首页看到您的“蜂博客”。</li>\n</ul>\n<h2 id=\"如何利用js文件产生一个页面\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8js%E6%96%87%E4%BB%B6%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2\" aria-label=\"如何利用js文件产生一个页面 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何利用JS文件产生一个页面</h2>\n<p>“蜂工地”公开的网页都是通过<a href=\"https://github.com/yuxiang660/little-bee-client/tree/master/src/templates\">模板</a>动态生成的，只有一个内部调试的<a href=\"https://github.com/yuxiang660/little-bee-client/blob/master/src/pages/debug.tsx\">'debug'页面</a>利用JS文件（准确的说是TS文件，“蜂工地”为保证产品质量，都是基于<code class=\"language-text\">TypeScript</code>编写的）生成。<br>\n下面以此'debug'页面诠释<code class=\"language-text\">Gatsby</code>利用JS文件生成一个静态网页的工作流程。</p>\n<h3 id=\"debug页面效果\" style=\"position:relative;\"><a href=\"#debug%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C\" aria-label=\"debug页面效果 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debug页面效果</h3>\n<ul>\n<li>\n<p>启动“蜂工地”，输入'debug'页面的URL：<code class=\"language-text\">http://localhost:8000/debug</code>，得到如下页面：</p>\n<p><img src=\"http://q53wkmg88.bkt.clouddn.com/debug-page.png\" alt=\"DebugPage\"></p>\n</li>\n</ul>\n<h3 id=\"debug页面代码解析\" style=\"position:relative;\"><a href=\"#debug%E9%A1%B5%E9%9D%A2%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90\" aria-label=\"debug页面代码解析 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debug页面代码解析</h3>\n<ul>\n<li>JS代码</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Debug</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n<span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token string\">\"Debug\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>SiderBar <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// 页面左侧的侧边栏</span>\n    <span class=\"token operator\">&lt;</span>Files <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// 页面右侧的文件名列表</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Debug<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p>'debug'网页生成流程如下：</p>\n<ul>\n<li><code class=\"language-text\">gatsby develop</code>命令行会开始编译项目文件。</li>\n<li><code class=\"language-text\">Gatsby</code>读取<code class=\"language-text\">/src/pages</code>下的<code class=\"language-text\">debug.tsx</code>文件。</li>\n<li>渲染该文件<code class=\"language-text\">export</code>的<a href=\"https://zh-hans.reactjs.org/docs/introducing-jsx.html#___gatsby\">React-JSX</a>，如果你对<code class=\"language-text\">React-JSX</code>不是很了解，可以简单理解为一种强大的<code class=\"language-text\">HTML</code>。</li>\n<li><code class=\"language-text\">Gatsby</code>会根据<code class=\"language-text\">/src/pages</code>下的<code class=\"language-text\">debug.tsx</code>文件的文件名，为该页面生成对应的路由地址。因此，可以直接通过<code class=\"language-text\">http://localhost:8000/debug</code>访问到该页面。如果在<code class=\"language-text\">/src/pages</code>下创建<code class=\"language-text\">index.tsx</code>文件，则可以在路由中省略<code class=\"language-text\">index</code>，直接通过<code class=\"language-text\">http://localhost:8000</code>访问。下图显示了“蜂工地”的部分可用路由：<br>\n<img src=\"http://q53wkmg88.bkt.clouddn.com/litte-bee-routers.png\" alt=\"Routers\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"如何利用模板动态生成一个页面\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8%E6%A8%A1%E6%9D%BF%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2\" aria-label=\"如何利用模板动态生成一个页面 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何利用模板动态生成一个页面</h2>\n<p>静态网站生成器之所以叫生成器，就是因为他们可以根据模板，自动生成多个页面。<code class=\"language-text\">Gatsby</code>作为一个强大的静态网站生成器（当然<code class=\"language-text\">Gatsby</code>的功能远大于一个静态网站生成器），自然可以根据模板生成页面。</p>\n<p>简单来说，如下图所示，<code class=\"language-text\">Gatsby</code>读取对用户友好的<code class=\"language-text\">Markdown</code>文件，按照<code class=\"language-text\">template</code>模板的规则，自动生成对应的一个网页。这样，用户就可以只撰写一个<code class=\"language-text\">Markdown</code>语法格式的文档，就可以得到一个网页，分享在互联网上。\n<img src=\"http://q53wkmg88.bkt.clouddn.com/gatsby-template.png\" alt=\"gatsby-template\"></p>\n<p>下面以<a href=\"https://github.com/yuxiang660/little-bee-client/blob/master/src/templates/not-found.tsx\">/src/templates/not-found.tsx</a>为例子，阐述“蜂工地”的动态页面生成过程。</p>\n<h3 id=\"not-found页面效果\" style=\"position:relative;\"><a href=\"#not-found%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C\" aria-label=\"not found页面效果 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>'not-found'页面效果</h3>\n<ul>\n<li>\n<p>启动“蜂工地”后，在浏览器中输入：<code class=\"language-text\">http://localhost:8000/404</code>，得到如下页面：</p>\n<p><img src=\"http://q53wkmg88.bkt.clouddn.com/not-found-page.png\" alt=\"not-found-page\"></p>\n</li>\n</ul>\n<h3 id=\"not-found动态页面生成代码分析\" style=\"position:relative;\"><a href=\"#not-found%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90\" aria-label=\"not found动态页面生成代码分析 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>'not-found'动态页面生成代码分析</h3>\n<ul>\n<li><code class=\"language-text\">not-found</code>模板代码</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// /src/templates/not-found.tsx</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">NotFoundTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> subtitle <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useSiteMetadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Not Found - </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>subtitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Sidebar <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Page title<span class=\"token operator\">=</span><span class=\"token string\">\"NOT FOUND\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>You just hit a route that doesn<span class=\"token operator\">&amp;</span>#<span class=\"token number\">39</span><span class=\"token punctuation\">;</span>t exist<span class=\"token operator\">...</span> the sadness<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Page<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NotFoundTemplate<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li><code class=\"language-text\">Gatsby</code>动态生成页面代码</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// /src/gatsby-api/pages/index.js</span>\n<span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'/404'</span><span class=\"token punctuation\">,</span>\n  component<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/templates/not-found.tsx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>你会发现，模板代码和静态页面的JS代码没有什么区别，都是<code class=\"language-text\">export</code>一个<code class=\"language-text\">React-JSX</code>。甚至对于<code class=\"language-text\">not-found</code>页面，把其模板文件挪到<code class=\"language-text\">/src/pages</code>文件夹下，并重命名为<code class=\"language-text\">404.tsx</code>。同样能在<code class=\"language-text\">http://localhost:8000/404</code>下访问到相同的页面。</p>\n<h3 id=\"动态生成网页的什么优势\" style=\"position:relative;\"><a href=\"#%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%BD%91%E9%A1%B5%E7%9A%84%E4%BB%80%E4%B9%88%E4%BC%98%E5%8A%BF\" aria-label=\"动态生成网页的什么优势 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>动态生成网页的什么优势</h3>\n<p>对于单一页面，利用模板动态生成较静态页面并没有什么优势。但是，对于多页面，模板的优势就体现出来了。以博客系统为例，每篇博文的样式都是一样的，因此可以利用同一份模板，快速生成多个页面。</p>\n<h2 id=\"蜂博客渲染过程\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%8D%9A%E5%AE%A2%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B\" aria-label=\"蜂博客渲染过程 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂博客”渲染过程</h2>\n<p>在“蜂工地”中，<code class=\"language-text\">Gatsby</code>利用同一份<a href=\"https://github.com/yuxiang660/little-bee-client/blob/master/src/templates/post.tsx\">'post'</a>模板，对不同的<a href=\"https://github.com/yuxiang660/little-bee-client/tree/master/static/posts\">博客内容</a>进行渲染，生成对应的博客页面。</p>\n<h3 id=\"蜂博客post模板\" style=\"position:relative;\"><a href=\"#%E8%9C%82%E5%8D%9A%E5%AE%A2post%E6%A8%A1%E6%9D%BF\" aria-label=\"蜂博客post模板 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“蜂博客”<a href=\"https://github.com/yuxiang660/little-bee-client/blob/master/src/templates/post.tsx\">post</a>模板</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 关键代码</span>\n<span class=\"token keyword\">const</span> PostTemplate<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>PostTemplateProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>postTitle<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> - </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>siteTitle<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>metaDescription<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Post post<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// GraghQL API 用于获取网站中的任何数据</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query PostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      ...\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> PostTemplate<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对比<code class=\"language-text\">post</code>模板和<code class=\"language-text\">not-found</code>模板，<code class=\"language-text\">post</code>模板利用<code class=\"language-text\">GraphQL</code>获取了<code class=\"language-text\">Markdown</code>文件的内容，并一起被渲染成页面。而<code class=\"language-text\">not-found</code>模板没有处理外部数据，被渲染的只是一个空模板。</p>\n<h3 id=\"强大的graphql\" style=\"position:relative;\"><a href=\"#%E5%BC%BA%E5%A4%A7%E7%9A%84graphql\" aria-label=\"强大的graphql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>强大的'GraphQL'</h3>\n<p><a href=\"https://www.gatsbyjs.org/docs/graphql-concepts/\">'GraphQL'</a>是<code class=\"language-text\">Gatsby</code>中最关键的技术，管理着<code class=\"language-text\">Gatsby</code>网页的所有数据。<code class=\"language-text\">Gatsby</code>在编译阶段，会将所有数据（包括以<code class=\"language-text\">Markdown</code>格式存放的博客文件）存入'GraphQL'，因此所有页面都可以很方便地通过<code class=\"language-text\">GraphQL API</code>获取所有数据。详情可参考“蜂博客”：<a href=\"\">什么是\"Gastby\"</a>。</p>\n<p>为了便于调试，<code class=\"language-text\">Gatsby</code>还为我们自动生成了<code class=\"language-text\">___graphql</code>页面，用于本地开发调试。<code class=\"language-text\">gatsby develop</code>启动网站后，输入<code class=\"language-text\">http://localhost:8000/___graphql</code>即可得到如下页面，可用<code class=\"language-text\">GraphQL API</code>操作所有数据：\n<img src=\"http://q53wkmg88.bkt.clouddn.com/GraphiQL.png\" alt=\"graphql\"></p>","fields":{"slug":"/posts/3/2020-02-09---Little-Bee-Client-Intro/","tagSlugs":["/tag/intro/","/tag/little-bee/","/tag/gatsby/","/tag/react/"],"date":"2020-02-09T00:00:00.000Z"},"frontmatter":{"description":"这是一篇\"Introduction\"文章，介绍“蜂工地”项目。","tags":["Intro","LittleBee","Gatsby","React"],"title":"“蜂工地”简介"}}},"pageContext":{"slug":"/posts/3/2020-02-09---Little-Bee-Client-Intro/"}}}